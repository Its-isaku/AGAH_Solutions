{% extends "emails/base_email.html" %}

{% block title %}Pedido Confirmado - AGAH Solutions{% endblock %}

{% block content %}
<!-- Success Icon -->
<table border="0" cellpadding="0" cellspacing="0" width="100%" style="text-align: center; margin-bottom: 30px;">
    <tr>
        <td>
            <div style="display: inline-block; width: 80px; height: 80px; background: linear-gradient(135deg, #10B981 0%, #059669 100%); border-radius: 50%; text-align: center; line-height: 80px; font-size: 40px; color: white;">
                ✓
            </div>
        </td>
    </tr>
</table>

<!-- Confirmation Message -->
<h2 style="margin: 0 0 20px 0; color: #10B981; font-size: 28px; font-weight: 600; text-align: center;">
    ¡Pedido Confirmado!
</h2>

<p style="margin: 0 0 30px 0; color: #F4E7E1; font-size: 16px; line-height: 1.6; text-align: center;">
    Hola {{ customer_name|default:"Cliente" }}, hemos recibido tu confirmación.
</p>

<!-- Order Details -->
<table border="0" cellpadding="0" cellspacing="0" width="100%" style="background-color: rgba(16, 185, 129, 0.1); border-radius: 10px; border: 1px solid rgba(16, 185, 129, 0.3); margin-bottom: 30px;">
    <tr>
        <td style="padding: 20px;">
            <h3 style="margin: 0 0 15px 0; color: #78B7D0; font-size: 18px; text-align: center;">
                Pedido: {{ order.order_number }}
            </h3>
            <table border="0" cellpadding="0" cellspacing="0" width="100%">
                <tr>
                    <td style="padding: 8px 0; text-align: center;">
                        <span style="color: #888888; font-size: 14px;">Precio Final:</span>
                        <span style="color: #10B981; font-size: 20px; font-weight: bold; margin-left: 10px;">
                            ${{ order.final_price|floatformat:2 }} MXN
                        </span>
                    </td>
                </tr>
                {% if order.delivery_time_days %}
                <tr>
                    <td style="padding: 8px 0; text-align: center;">
                        <span style="color: #888888; font-size: 14px;">Tiempo de Entrega:</span>
                        <span style="color: #F4E7E1; font-size: 16px; margin-left: 10px;">
                            {{ order.delivery_time_days }} días hábiles
                        </span>
                    </td>
                </tr>
                {% endif %}
            </table>
        </td>
    </tr>
</table>

<!-- What's Next -->
<h3 style="margin: 0 0 20px 0; color: #78B7D0; font-size: 18px;">¿Qué sigue ahora?</h3>

<table border="0" cellpadding="0" cellspacing="0" width="100%" style="margin-bottom: 30px;">
    <tr>
        <td style="padding: 15px 0;">
            <table border="0" cellpadding="0" cellspacing="0">
                <tr>
                    <td style="width: 40px; vertical-align: top;">
                        <div style="width: 30px; height: 30px; background-color: #10B981; border-radius: 50%; text-align: center; line-height: 30px; color: white; font-weight: bold;">
                            1
                        </div>
                    </td>
                    <td style="color: #F4E7E1; font-size: 15px; line-height: 1.6;">
                        <strong>Preparación:</strong> Nuestro equipo está preparando los materiales y configurando las máquinas para tu pedido.
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td style="padding: 15px 0;">
            <table border="0" cellpadding="0" cellspacing="0">
                <tr>
                    <td style="width: 40px; vertical-align: top;">
                        <div style="width: 30px; height: 30px; background-color: rgba(120, 183, 208, 0.5); border-radius: 50%; text-align: center; line-height: 30px; color: white; font-weight: bold;">
                            2
                        </div>
                    </td>
                    <td style="color: #F4E7E1; font-size: 15px; line-height: 1.6;">
                        <strong>Producción:</strong> Te notificaremos cuando comience el proceso de fabricación.
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td style="padding: 15px 0;">
            <table border="0" cellpadding="0" cellspacing="0">
                <tr>
                    <td style="width: 40px; vertical-align: top;">
                        <div style="width: 30px; height: 30px; background-color: rgba(120, 183, 208, 0.3); border-radius: 50%; text-align: center; line-height: 30px; color: white; font-weight: bold;">
                            3
                        </div>
                    </td>
                    <td style="color: #F4E7E1; font-size: 15px; line-height: 1.6;">
                        <strong>Entrega:</strong> Recibirás una notificación cuando tu pedido esté listo.
                    </td>
                </tr>
            </table>
        </td>
    </tr>
</table>

<!-- Important Notice -->
<table border="0" cellpadding="0" cellspacing="0" width="100%" style="background-color: rgba(255, 193, 7, 0.1); border-radius: 10px; border: 1px solid rgba(255, 193, 7, 0.3); padding: 15px; margin-bottom: 30px;">
    <tr>
        <td>
            <p style="margin: 0; color: #FFC107; font-size: 14px; text-align: center; font-weight: 600;">
                ⚠️ Importante: Ya no puedes cancelar este pedido
            </p>
            <p style="margin: 10px 0 0 0; color: #F4E7E1; font-size: 13px; text-align: center;">
                Si necesitas hacer cambios, contáctanos inmediatamente.
            </p>
        </td>
    </tr>
</table>

<!-- CTA Button -->
<table border="0" cellpadding="0" cellspacing="0" width="100%" style="margin: 30px 0;">
    <tr>
        <td align="center">
            <a href="{{ website_url|default:'http://localhost:5173' }}/orders" 
                style="display: inline-block; padding: 15px 40px; background-color: transparent; border: 2px solid #78B7D0; border-radius: 8px; color: #78B7D0; font-size: 16px; font-weight: 600; text-decoration: none; text-transform: uppercase; letter-spacing: 1px;">
                Ver Estado del Pedido
            </a>
        </td>
    </tr>
</table>

<p style="margin: 30px 0 0 0; color: #888888; font-size: 14px; line-height: 1.6; text-align: center;">
    Gracias por confiar en AGAH Solutions. Estamos trabajando para entregar un producto de la más alta calidad.
</p>
{% endblock %}